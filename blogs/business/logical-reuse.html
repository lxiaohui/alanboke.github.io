<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.18">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>高效开发：业务逻辑复用沉淀 | 前端团队文档库</title><meta name="description" content="前端团队文档库">
    <link rel="preload" href="/./assets/style-DyfpCKet.css" as="style"><link rel="stylesheet" href="/./assets/style-DyfpCKet.css">
    <link rel="modulepreload" href="/./assets/app-OBUVoyLF.js"><link rel="modulepreload" href="/./assets/logical-reuse.html-BkiareV0.js">
    <link rel="prefetch" href="/./assets/timeline.html-C2A75Dor.js" as="script"><link rel="prefetch" href="/./assets/posts.html-Cu2HoOyh.js" as="script"><link rel="prefetch" href="/./assets/friendship-link.html-BGKjfKR8.js" as="script"><link rel="prefetch" href="/./assets/1.html-C4lWd6va.js" as="script"><link rel="prefetch" href="/./assets/1.html-CMYblKQx.js" as="script"><link rel="prefetch" href="/./assets/1.html-DWd58418.js" as="script"><link rel="prefetch" href="/./assets/1.html-bko40cDM.js" as="script"><link rel="prefetch" href="/./assets/1.html-CTkumaxJ.js" as="script"><link rel="prefetch" href="/./assets/1.html-C7-FJnbr.js" as="script"><link rel="prefetch" href="/./assets/1.html-JI9mGRPZ.js" as="script"><link rel="prefetch" href="/./assets/1.html-BLGO7tfR.js" as="script"><link rel="prefetch" href="/./assets/1.html-mut7szmH.js" as="script"><link rel="prefetch" href="/./assets/1.html-C3WafBuW.js" as="script"><link rel="prefetch" href="/./assets/1.html-CrBDYg2c.js" as="script"><link rel="prefetch" href="/./assets/1.html-Bzombdm9.js" as="script"><link rel="prefetch" href="/./assets/1.html-C7wDOXyA.js" as="script"><link rel="prefetch" href="/./assets/1.html-cAfIjiS7.js" as="script"><link rel="prefetch" href="/./assets/1.html-BuOXeGBO.js" as="script"><link rel="prefetch" href="/./assets/1.html-C3Ux8_Iu.js" as="script"><link rel="prefetch" href="/./assets/1.html-BS8EC7st.js" as="script"><link rel="prefetch" href="/./assets/1.html-CbVKLLou.js" as="script"><link rel="prefetch" href="/./assets/1.html-BprlWhxj.js" as="script"><link rel="prefetch" href="/./assets/1.html-BOq6rT6K.js" as="script"><link rel="prefetch" href="/./assets/1.html-BjBQNFoG.js" as="script"><link rel="prefetch" href="/./assets/1.html-D4apNQq7.js" as="script"><link rel="prefetch" href="/./assets/2.html-CIpQLT7d.js" as="script"><link rel="prefetch" href="/./assets/index.html-DsytV_qx.js" as="script"><link rel="prefetch" href="/./assets/guide.html-CsXa5ImM.js" as="script"><link rel="prefetch" href="/./assets/admin-starter.html-DeHhEGL3.js" as="script"><link rel="prefetch" href="/./assets/file-online-preview.html-puLMe3Vh.js" as="script"><link rel="prefetch" href="/./assets/decrypt-gitignore.html-CvjeD2TZ.js" as="script"><link rel="prefetch" href="/./assets/git-commit-standard.html-B2ineFUf.js" as="script"><link rel="prefetch" href="/./assets/naming-standards.html-CPm6vXTx.js" as="script"><link rel="prefetch" href="/./assets/readme-template.html-CxDFP8Xb.js" as="script"><link rel="prefetch" href="/./assets/technical-review-template.html-CzGbM49z.js" as="script"><link rel="prefetch" href="/./assets/writing-standards.html-DhAjLSQu.js" as="script"><link rel="prefetch" href="/./assets/sj-education-h5.html-gR3mrViO.js" as="script"><link rel="prefetch" href="/./assets/mobile-starter.html-D4Hzdoeh.js" as="script"><link rel="prefetch" href="/./assets/create-yz.html-DYansb9F.js" as="script"><link rel="prefetch" href="/./assets/git-command.html-eqJYvmJe.js" as="script"><link rel="prefetch" href="/./assets/git-workflow.html-OFWOFHfP.js" as="script"><link rel="prefetch" href="/./assets/Infrastructure.html-CK_fY3qt.js" as="script"><link rel="prefetch" href="/./assets/technical-review.html-Dox_T_5h.js" as="script"><link rel="prefetch" href="/./assets/404.html-BHJJkMCs.js" as="script"><link rel="prefetch" href="/./assets/Valine.min-Dm4Ijz6H.js" as="script"><link rel="prefetch" href="/./assets/giscus-aTimukGI-CKTvSCx2.js" as="script"><link rel="prefetch" href="/./assets/setupDevtools-7MC2TMWH-COXEyIlg.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/./favicon.ico" alt="前端团队文档库"><a href="/./" class="site-name can-hide">前端团队文档库</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="分类"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->分类<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="分类"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->分类<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/./categories/jishuwendang/1.html" class="link" aria-label="技术文档"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->技术文档<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./categories/yewuwendang/1.html" class="link" aria-label="业务文档"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->业务文档<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./categories/xinrenshouce/1.html" class="link" aria-label="新人手册"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->新人手册<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./categories/fenxiangchendian/1.html" class="link" aria-label="分享沉淀"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->分享沉淀<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="标签"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->标签<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="标签"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->标签<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/./tags/xiezuoguifan/1.html" class="link" aria-label="写作规范"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->写作规范<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/gitignore/1.html" class="link" aria-label="gitignore"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->gitignore<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/yewuluojifuyong/1.html" class="link" aria-label="业务逻辑复用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->业务逻辑复用<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/jijian/1.html" class="link" aria-label="基建"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->基建<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/wenzhangtianjiazhinan/1.html" class="link" aria-label="文章添加指南"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->文章添加指南<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/wenjianzaixianyulan/1.html" class="link" aria-label="文件在线预览"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->文件在线预览<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/kkFileView/1.html" class="link" aria-label="kkFileView"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->kkFileView<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/jiaoshoujia/1.html" class="link" aria-label="脚手架"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->脚手架<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/Git/1.html" class="link" aria-label="Git"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Git<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/qidongmoban/1.html" class="link" aria-label="启动模板"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->启动模板<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/shangjinjiaoyu(h5)/1.html" class="link" aria-label="上进教育(h5)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->上进教育(h5)<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/README.md-guifan/1.html" class="link" aria-label="README.md 规范"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->README.md 规范<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/mingmingguifan/1.html" class="link" aria-label="命名规范"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->命名规范<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/Git-Commit/1.html" class="link" aria-label="Git Commit"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Git Commit<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/jishupingshenmoban/1.html" class="link" aria-label="技术评审模板"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->技术评审模板<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/jishupingshen/1.html" class="link" aria-label="技术评审"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->技术评审<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./tags/Git-Workflow/1.html" class="link" aria-label="Git Workflow"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Git Workflow<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">高效开发：业务逻辑复用沉淀</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Alan<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2024-12-10<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/./categories/yewuwendang/1.html" class="">业务文档</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/./tags/yewuluojifuyong/1.html" class="">业务逻辑复用</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><p>在日常的业务开发过程中，经常遇到大量具有相似逻辑和结构的业务需求。如果每次都通过复制粘贴旧代码的方式来实现新功能，不仅会导致代码库臃肿、难以维护，还会浪费大量的时间和精力。为了提高开发效率、增强代码可维护性并减少重复劳动，我们应该注重抽象通用组件设计可复用的业务逻辑。 接下来，将列举一些常用的业务场景，用来记录和方便参考引用~</p><h2 id="一、相关代码仓库说明" tabindex="-1"><a class="header-anchor" href="#一、相关代码仓库说明"><span>一、相关代码仓库说明</span></a></h2><p>目前关于远智移动端、公众号相关项目分别是：</p><ul><li><a href="http://git.yzwill.cn/yz-web/zmc" target="_blank" rel="noopener noreferrer">zmc<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>: 微信公众号相关</li><li><a href="http://git.yzwill.cn/yz-web/new-h5" target="_blank" rel="noopener noreferrer">new-h5<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>: 基于 zmc 项目分离的，体量相对较轻的仓库，新业务基本上在此仓库上开发</li><li><a href="http://git.yzwill.cn/yz-web/app-web" target="_blank" rel="noopener noreferrer">app-web<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>: 用于远智 APP 中内嵌访问 web 移动端页面的业务开发</li><li><a href="http://git.yzwill.cn/yz-web/market-project" target="_blank" rel="noopener noreferrer">market-project<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>: 微信小程序（学历助手），小程序相关的业务开发</li></ul><h2 id="二、app-客户端跳转微信小程序" tabindex="-1"><a class="header-anchor" href="#二、app-客户端跳转微信小程序"><span>二、APP 客户端跳转微信小程序</span></a></h2><p>最近在做训练营二期有个需求是需要在 APP 端的闯关页面，打开微信小程序展示跟进老师信息，用来给学员提供二维码添加老师的需求，就是需要在 APP 上跳转到微信小程序展示。 基于这个需求，对跳转的规则和参数进行整理说明： <code>wxmini://yzwill.cn?userName=gh_5586b77a4611&amp;path=/pages/other/trainingCampTeacher/index&amp;type=2</code></p><ul><li><code>wxmini://yzwill.cn</code> ：APP 约定的协议；</li><li>userName：对应着小程序的原始 ID；(如果不清楚原始 ID 对应的小程序，可以通过<a href="https://mp.weixin.qq.com/acct/findacct?action=scan&amp;token=&amp;lang=zh_CN" target="_blank" rel="noopener noreferrer">找回账号<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的方式进行查询)</li><li>path：对应小程序中的访问页面</li><li>type: 对应小程序的环境（0：正式版、1：开发版、2：体验版）</li></ul><blockquote><p>注意：如果小程序的访问页面需要传递参数，需要对参数进行 encodeURIComponent 编码，同时注意携带多个参数时，&amp; 符号后的参数会被 app 端跳转前获取，并不会传递给小程序。 如：wxmini://yzwill.cn?userName=gh_5586b77a4611&amp;path=/pages/other/trainingCampTeacher/index？id=xx&amp;trainType=xx&amp;type=2。传递到小程序页面就只有 id 的参数。</p></blockquote><h2 id="二、app-客户端跳转微信小程序-访问-h5-页面" tabindex="-1"><a class="header-anchor" href="#二、app-客户端跳转微信小程序-访问-h5-页面"><span>二、APP 客户端跳转微信小程序，访问 H5 页面</span></a></h2><p>同样也是上面训练营二期的需求，分析可以知道，需求只是想从 APP 端跳转到微信小程序，<strong>利用微信端的能力</strong>，对企微二维码的图片进行识别，添加对应的跟进老师的功能。按照常规的开发思路，就是直接到小程序上进行开发，但分析这个需求，也可以通过 h5 页面实现，同样也可以长按图片识别二维码进行添加，这样就可以<strong>避免小程序的发布、审核流程和大小限制等问题</strong>，通过统一微信小程序的 web-view H5 入口页面，后续类似的需求也可以直接开发 h5 即可。</p><blockquote><p>为啥不直接使用 APP 内嵌 H5 页面？因为需要使用到微信中图片长按识别添加二维码的能力。 为啥不直接使用 APP 跳转 H5 页面？不支持直接跳转微信 APP 打开 web 页面。 当然如果业务允许的情况下，这个需求还可以采取直接在 APP 端提示用户保存图片，自行到微信端识别简化开发。但多开发一步能提高用户体验何乐而不为~</p></blockquote><p><code>wxmini://yzwill.cn?userName=gh_5586b77a4611&amp;path=/pages/other/webview?url=encodeURIComponent(https://192-pre.yzou.cn/new-h5/newPages/training-camp/index?token=xxx&amp;id=xxx)&amp;type=2</code></p><p>链接的规则同上。这里给小程序端新增了一个页面 <code>/pages/other/webview</code>，页面接受 <code>url</code> 的参数，会进行 decodeURIComponent 处理，然后使用 web-view 进行页面访问。 总结：如果 APP 端需要使用到微信端的能力，微信 H5 端页支持这些能力，且不依赖微信小程序的业务，则推荐使用这种方式进行开发。</p><h2 id="三、h5-页面纯图片展示临时通知信息" tabindex="-1"><a class="header-anchor" href="#三、h5-页面纯图片展示临时通知信息"><span>三、H5 页面纯图片展示临时通知信息</span></a></h2><p>APP 客户端有些情况下，需要用到图片用作中转页，如版本更新后旧版本需要升级提示，可以通过访问内嵌 H5 链接访问展示图片。 也是一样的套路，在 new-h5 仓库中新增一个页面 <code>/new-h5/newPages/image-notice/index?url=encodeURIComponent(xxx)</code> ，接受 <code>url</code> 图片资源路径的参数，页面使用图片居中展示。</p><p>如: <code>https://192-pre.yzou.cn/new-h5/newPages/image-notice/index?url=https%3A%2F%2Fstatic.yzou.cn%2Fapplet%2Ftraining-camp-update-tip.png</code></p><p>有类似需求，直接替换文件资源地址即可。</p><h2 id="四、oss-图片资源管理" tabindex="-1"><a class="header-anchor" href="#四、oss-图片资源管理"><span>四、OSS：图片资源管理</span></a></h2><p>在上述提到的项目仓库中，许多图片资源使用了 OSS 服务。然而，项目中存在多个资源访问路径，并且有些路径是直接固定的，这种方式不利于维护。推荐使用环境变量文件中定义的变量，并通过全局 filters 中的 <code>imgBaseURL</code> 方法来拼接路径，以提高代码的可读性和可维护性，同时避免迭代开发时影响原有线上的资源文件。 此外，项目中通常直接使用 OSS 的域名路径。建议使用自定义域名，以便在某个 OSS 服务资源节点出现故障时，可以快速修改域名指向其他正常的备份 OSS 资源服务节点，实现容灾效果。</p><p>目前前端常用的 oss 文件路径和域名映射关系：</p><table><thead><tr><th>路径</th><th>域名</th></tr></thead><tbody><tr><td>oss://yzims</td><td>static.yzou.cn、yzims.oss-cn-shenzhen.aliyuncs.com</td></tr><tr><td>oss://yzimstest</td><td>img.yzwill.cn、yzimstest.oss-cn-shenzhen.aliyuncs.com</td></tr><tr><td>oss://new-yzpres</td><td>img2.yzwill.cn、new-yzpres.oss-cn-shenzhen.aliyuncs.com</td></tr></tbody></table><h2 id="" tabindex="-1"><a class="header-anchor" href="#"><span>...</span></a></h2></div></div><footer class="page-meta"><!----><!----></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/business/logical-reuse.html#一、相关代码仓库说明" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="一、相关代码仓库说明"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->一、相关代码仓库说明<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/business/logical-reuse.html#二、app-客户端跳转微信小程序" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="二、APP 客户端跳转微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->二、APP 客户端跳转微信小程序<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/business/logical-reuse.html#二、app-客户端跳转微信小程序-访问-h5-页面" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="二、APP 客户端跳转微信小程序，访问 H5 页面"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->二、APP 客户端跳转微信小程序，访问 H5 页面<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/business/logical-reuse.html#三、h5-页面纯图片展示临时通知信息" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="三、H5 页面纯图片展示临时通知信息"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->三、H5 页面纯图片展示临时通知信息<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/business/logical-reuse.html#四、oss-图片资源管理" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="四、OSS：图片资源管理"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->四、OSS：图片资源管理<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/business/logical-reuse.html#" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="..."><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->...<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/./assets/app-OBUVoyLF.js" defer></script>
  </body>
</html>
